<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prefelizt | Regala sin fallar.</title>
    <meta name="description" content="La herramienta de curadur√≠a social para LatAm. Guarda tus deseos, comparte tu stack y evita regalos repetidos.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÅ</text></svg>">

    <!-- Tailwind CSS & Supabase -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Typography: Brand Official -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'paper': '#FDFBF7', // Cream Paper
                        'ink': '#2D3436',   // Soft Ink
                        'lila': '#A29BFE',  // Lila Digital
                        'mango': '#FF7675', // Mango Pop
                        'menta': '#55EFC4', // Menta Fresh
                    },
                    fontFamily: {
                        'display': ['"Archivo Black"', 'sans-serif'],
                        'body': ['"Inter"', 'sans-serif'],
                        'mono': ['"JetBrains Mono"', 'monospace'],
                    },
                    boxShadow: {
                        'neo': '4px 4px 0px 0px #2D3436',
                        'neo-hover': '6px 6px 0px 0px #2D3436',
                        'neo-pressed': '0px 0px 0px 0px #2D3436',
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #FDFBF7; color: #2D3436; font-family: 'Inter', sans-serif; }
        .neo-box { @apply bg-white border-2 border-ink rounded-xl shadow-neo transition-all; }
        .visually-hidden { position: absolute; left: -9999px; opacity: 0; }
        
        /* Smooth Scroll */
        html { scroll-behavior: smooth; }
    </style>
</head>
<body class="min-h-screen flex flex-col font-body overflow-x-hidden selection:bg-lila selection:text-ink">

    <!-- Navbar -->
    <nav class="w-full p-6 flex justify-between items-center max-w-6xl mx-auto z-50 relative">
        <div class="flex items-center gap-3 group cursor-pointer">
            <!-- BRAND LOGO SVG (The Curator Stack) -->
            <div class="w-10 h-10 group-hover:scale-110 transition-transform duration-300">
                <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="25" y="20" width="55" height="65" rx="6" fill="#2D3436" transform="rotate(-10 52.5 52.5) translate(4, 4)"/>
                    <rect x="25" y="20" width="55" height="65" rx="6" fill="#FDFBF7" stroke="#2D3436" stroke-width="3" transform="rotate(-10 52.5 52.5)"/>
                    <rect x="22" y="18" width="55" height="65" rx="6" fill="#2D3436" transform="rotate(5 49.5 50.5) translate(4, 4)"/>
                    <rect x="22" y="18" width="55" height="65" rx="6" fill="#A29BFE" stroke="#2D3436" stroke-width="3" transform="rotate(5 49.5 50.5)"/>
                    <path d="M50 38 C 50 38, 42 38, 42 44 C 42 50, 50 56, 50 56 C 50 56, 58 50, 58 44 C 58 38, 50 38, 50 38 Z" fill="#FF7675" stroke="#2D3436" stroke-width="2.5" transform="rotate(5 50 48)"/>
                </svg>
            </div>
            <span class="font-display text-xl tracking-tight mt-1">PREFELIZT</span>
        </div>
        <div>
            <a href="mailto:hola@prefelizt.com" class="font-bold text-sm border-b-2 border-transparent hover:border-lila transition-all">
                hola@prefelizt.com
            </a>
        </div>
    </nav>

    <!-- Hero Section -->
    <main class="flex-1 flex flex-col lg:flex-row items-center justify-center gap-12 lg:gap-24 p-6 max-w-6xl mx-auto w-full mt-8 lg:mt-0">
        
        <!-- Left: Copy & Form -->
        <div class="flex-1 max-w-xl text-center lg:text-left z-10">
            
            <!-- Status Badge -->
            <div class="inline-flex items-center gap-2 bg-white border-2 border-ink px-3 py-1.5 rounded-full text-xs font-bold font-mono shadow-neo mb-8 transform -rotate-1 hover:rotate-0 transition-transform cursor-default">
                <span class="w-2 h-2 rounded-full bg-mango animate-pulse"></span>
                <span>COMING SOON 2026</span>
            </div>

            <h1 class="font-display text-4xl sm:text-5xl lg:text-6xl mb-6 leading-[1.1] tracking-tight">
                Tu wishlist, <br>
                <span class="text-lila relative">
                    tus reglas.
                    <svg class="absolute w-full h-3 -bottom-1 left-0 text-ink opacity-100" viewBox="0 0 100 10" preserveAspectRatio="none">
                        <path d="M0 5 Q 50 12 100 5" stroke="#2D3436" stroke-width="3" fill="none" />
                    </svg>
                </span>
            </h1>
            
            <p class="text-lg text-gray-600 mb-8 leading-relaxed max-w-md mx-auto lg:mx-0 font-medium">
                La herramienta de curadur√≠a social para LatAm. Centraliza tus deseos, comparte tu stack y <span class="bg-mango/20 px-1 rounded">elimina los regalos repetidos.</span>
            </p>

            <!-- Secure Form -->
            <form id="waitlistForm" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto lg:mx-0 relative">
                <input type="text" name="phone_check" id="honey" class="visually-hidden" tabindex="-1" autocomplete="off">
                <input type="email" id="email" required placeholder="tu@email.com" 
                    class="flex-1 bg-white border-2 border-ink rounded-xl px-4 py-4 font-mono text-sm shadow-neo focus:outline-none focus:border-lila focus:ring-1 focus:ring-lila transition-all placeholder:text-gray-400">
                
                <button type="submit" id="submitBtn" class="bg-lila text-ink font-bold border-2 border-ink rounded-xl px-8 py-4 shadow-neo hover:translate-y-[-2px] hover:shadow-[6px_6px_0_0_#2D3436] active:translate-y-[2px] active:translate-x-[2px] active:shadow-none transition-all whitespace-nowrap">
                    Apartar Lugar üîí
                </button>

                <!-- Feedback -->
                <div id="successMessage" class="absolute inset-0 bg-menta border-2 border-ink rounded-xl shadow-neo flex items-center justify-center hidden z-20">
                    <span class="font-bold text-ink font-mono flex items-center gap-2">‚úÖ ¬°Est√°s dentro!</span>
                </div>
                <div id="errorMessage" class="absolute inset-0 bg-mango border-2 border-ink rounded-xl shadow-neo flex items-center justify-center hidden z-20">
                    <span id="errorText" class="font-bold text-white font-mono text-xs px-4">‚ö†Ô∏è Error. Intenta de nuevo.</span>
                </div>
            </form>
            <p class="text-[10px] text-gray-400 mt-4 font-mono uppercase tracking-widest">
                *Early Access Limitado
            </p>
        </div>

        <!-- Right: Visual Demo (The Stack) -->
        <div class="flex-1 w-full max-w-md relative hidden lg:block perspective-1000">
            <!-- Background Decorations -->
            <div class="absolute -top-12 -right-12 text-6xl opacity-20 animate-float" style="animation-delay: 0.5s;">‚ú®</div>
            <div class="absolute bottom-12 -left-16 text-6xl opacity-20 animate-float" style="animation-delay: 1.5s;">üéÅ</div>

            <!-- THE STACK VISUALIZATION -->
            <div class="relative w-full aspect-[4/5]">
                
                <!-- Card 3 (Back) -->
                <div class="absolute top-0 left-8 w-full h-full bg-white border-2 border-ink rounded-2xl shadow-neo transform rotate-6 scale-90 opacity-60 z-0"></div>
                
                <!-- Card 2 (Middle) -->
                <div class="absolute top-4 left-4 w-full h-full bg-paper border-2 border-ink rounded-2xl shadow-neo transform rotate-3 scale-95 z-10 flex flex-col overflow-hidden">
                     <div class="h-2/3 bg-gray-100 border-b-2 border-ink flex items-center justify-center grayscale opacity-50">
                        <span class="text-6xl">üéß</span>
                    </div>
                </div>

                <!-- Card 1 (Front - Hero) -->
                <div class="absolute top-8 left-0 w-full h-full bg-white border-2 border-ink rounded-2xl shadow-neo-hover transform hover:-translate-y-2 transition-transform duration-500 z-20 flex flex-col overflow-hidden">
                    <!-- Image Area -->
                    <div class="h-2/3 bg-gray-50 border-b-2 border-ink flex items-center justify-center relative group">
                        <span class="text-8xl filter drop-shadow-md group-hover:scale-110 transition-transform">üëü</span>
                        <!-- Price Tag -->
                        <div class="absolute bottom-3 right-3 bg-ink text-white font-mono text-xs px-2 py-1 rounded">
                            $2,499 MXN
                        </div>
                    </div>
                    <!-- Content Area -->
                    <div class="p-5 flex-1 flex flex-col justify-between">
                        <div>
                            <div class="flex justify-between items-start mb-1">
                                <h3 class="font-display text-xl leading-none">Nike Dunk Low</h3>
                                <span class="bg-paper border border-ink text-[10px] px-1.5 py-0.5 rounded font-mono font-bold">27 MX</span>
                            </div>
                            <p class="text-xs text-gray-500 font-mono">amazon.com.mx</p>
                        </div>
                        
                        <!-- Status Bar -->
                        <div class="w-full bg-menta/20 border border-menta rounded py-2 flex items-center justify-center gap-2">
                            <span class="w-2 h-2 rounded-full bg-menta animate-pulse"></span>
                            <span class="text-[10px] font-bold text-green-800 tracking-wider">DISPONIBLE</span>
                        </div>
                    </div>
                </div>

                <!-- Floating Badge -->
                <div class="absolute -right-6 top-20 bg-mango text-white border-2 border-ink px-4 py-2 rounded-lg shadow-neo transform rotate-12 z-30 animate-float">
                    <span class="font-display text-sm">Lo quiero! ‚ù§Ô∏è</span>
                </div>

            </div>
        </div>
    </main>

    <!-- Value Props (Mobile only visible or scrolling) -->
    <section class="border-t-2 border-ink bg-white py-12 mt-12">
        <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
            <div class="p-4">
                <div class="text-4xl mb-2">üîó</div>
                <h3 class="font-display text-lg mb-1">Un solo Link</h3>
                <p class="text-sm text-gray-600">Adi√≥s a los screenshots perdidos.</p>
            </div>
            <div class="p-4">
                <div class="text-4xl mb-2">üö´</div>
                <h3 class="font-display text-lg mb-1">Cero Repetidos</h3>
                <p class="text-sm text-gray-600">Sistema de reserva con temporizador.</p>
            </div>
            <div class="p-4">
                <div class="text-4xl mb-2">üìè</div>
                <h3 class="font-display text-lg mb-1">Tallas Reales</h3>
                <p class="text-sm text-gray-600">Tus medidas siempre a la mano.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-ink text-paper py-8 text-center">
        <p class="font-mono text-xs opacity-60 mb-2">¬© 2026 PREFELIZT INC.</p>
        <div class="flex justify-center gap-4 text-xs font-bold">
            <a href="https://instagram.com/prefelizt" target="_blank" rel="noopener noreferrer" class="hover:text-lila">Instagram</a>
            <a href="https://tiktok.com/@prefelizt" target="_blank" rel="noopener noreferrer" class="hover:text-lila">TikTok</a>
            <a href="legal.html" class="hover:text-lila">Legal</a>
        </div>
    </footer>

    <!-- LOGIC -->
    <script>
        // ================= CONFIGURACI√ìN =================
        const SUPABASE_URL = 'https://kekgtvjqxenefhgpwxlx.supabase.co'; 
        const SUPABASE_ANON_KEY = 'sb_publishable_g_j-6rH9FG65skiULHmh4w_OiMZHZ4G';
        // ================================================

        const loadTime = Date.now();
        const { createClient } = supabase;
        const _supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        const form = document.getElementById('waitlistForm');
        const emailInput = document.getElementById('email');
        const honeyInput = document.getElementById('honey');
        const submitBtn = document.getElementById('submitBtn');
        const successMsg = document.getElementById('successMessage');
        const errorMsg = document.getElementById('errorMessage');
        const errorText = document.getElementById('errorText');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Security Checks
            if (honeyInput.value !== "") return; // Bot
            if (Date.now() - loadTime < 2000) return; // Fast bot

            const email = emailInput.value.trim();
            if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                showError("Email inv√°lido");
                return;
            }

            // UI Loading
            const originalBtnText = submitBtn.innerText;
            submitBtn.disabled = true;
            submitBtn.innerText = "Guardando...";
            submitBtn.classList.add('opacity-80', 'cursor-not-allowed');

            try {
                const { error } = await _supabase.from('waitlist').insert([{ email: email }]);

                if (error && error.code !== '23505') throw error;
                
                showSuccess();

            } catch (error) {
                console.error(error);
                showError("Error de conexi√≥n");
                submitBtn.disabled = false;
                submitBtn.innerText = originalBtnText;
                submitBtn.classList.remove('opacity-80', 'cursor-not-allowed');
            }
        });

        function showSuccess() {
            successMsg.classList.remove('hidden');
            emailInput.value = '';
            // Confetti or visual feedback logic here if desired
        }

        function showError(msg) {
            errorText.innerText = `‚ö†Ô∏è ${msg}`;
            errorMsg.classList.remove('hidden');
            setTimeout(() => errorMsg.classList.add('hidden'), 3000);
        }
    </script>
</body>
</html>